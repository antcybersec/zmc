{
  "$schema": "https://railway.app/schemas/cli/v2",
  "services": [
    {
      "name": "backend-api",
      "repo": "zmc",
      "buildCommand": "npm install",
      "startCommand": "npm start",
      "rootDirectory": ".",
      "environmentVariables": {
        "NODE_ENV": "production",
        "PORT": "5000",
        "CLAUDE_API_KEY": "${CLAUDE_API_KEY}",
        "CLAUDE_MODEL": "claude-3-haiku-20240307",
        "DATABASE_URL": "./database/ai_company.db",
        "PRIVATE_KEY": "${PRIVATE_KEY}",
        "RPC_URL": "https://api.avax.network/ext/bc/C/rpc",
        "CONTRACT_ADDRESS": "${CONTRACT_ADDRESS}"
      }
    },
    {
      "name": "frontend",
      "repo": "zmc",
      "buildCommand": "npm install && cd client && npm install && npm run build",
      "startCommand": "cd client && npx serve -s build -l 3000",
      "rootDirectory": ".",
      "environmentVariables": {
        "NODE_ENV": "production",
        "PORT": "3000",
        "REACT_APP_API_URL": "${RAILWAY_PUBLIC_DOMAIN_BACKEND_API}",
        "REACT_APP_BOLT_URL": "${RAILWAY_PUBLIC_DOMAIN_BOLTDIY}"
      }
    },
    {
      "name": "bolt-diy",
      "repo": "zmc",
      "buildCommand": "cd bolt.diy-main && pnpm install --frozen-lockfile",
      "startCommand": "cd bolt.diy-main && pnpm dev",
      "rootDirectory": ".",
      "environmentVariables": {
        "NODE_ENV": "production",
        "PORT": "5174",
        "ANTHROPIC_API_KEY": "${ANTHROPIC_API_KEY}",
        "VITE_PUBLIC_APP_URL": "${RAILWAY_PUBLIC_DOMAIN_BOLTDIY}"
      }
    }
  ]
}